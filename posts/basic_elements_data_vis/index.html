<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>数据可视化——基本图形元素及其应用 | Yorksite</title>
<meta name="keywords" content="可视化">
<meta name="description" content="介绍可视化作图过程中使用的基本元素，简单分析不同数据类型与适合使用的展示方式。">
<meta name="author" content="Yorkson">
<link rel="canonical" href="https://yorks0n.github.io/posts/basic_elements_data_vis/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a64d292f66122a1e5591815ee8c06e138b9cb7dda180c36c77cfcf3f15fa04b5.css" integrity="sha256-pk0pL2YSKh5VkYFe6MBuE4uct92hgMNsd8/PPxX6BLU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://yorks0n.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://yorks0n.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yorks0n.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://yorks0n.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://yorks0n.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://yorks0n.github.io/posts/basic_elements_data_vis/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>
<meta property="og:title" content="数据可视化——基本图形元素及其应用" />
<meta property="og:description" content="介绍可视化作图过程中使用的基本元素，简单分析不同数据类型与适合使用的展示方式。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yorks0n.github.io/posts/basic_elements_data_vis/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-07-19T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="数据可视化——基本图形元素及其应用"/>
<meta name="twitter:description" content="介绍可视化作图过程中使用的基本元素，简单分析不同数据类型与适合使用的展示方式。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://yorks0n.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "数据可视化——基本图形元素及其应用",
      "item": "https://yorks0n.github.io/posts/basic_elements_data_vis/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "数据可视化——基本图形元素及其应用",
  "name": "数据可视化——基本图形元素及其应用",
  "description": "介绍可视化作图过程中使用的基本元素，简单分析不同数据类型与适合使用的展示方式。",
  "keywords": [
    "可视化"
  ],
  "articleBody": "前言 本文旨在介绍可视化作图过程中使用的基本元素，简单分析不同数据类型适合使用何种图形进行展示。通过了解这些基本元素，我们可以实现以下两个目的：\n更好地解读图片传递的信息 判断图表质量的好坏 在理解了基本元素的基础上，我们能够更好地设计图表，从而更高效直观地向读者传递我们的结论。\n用于数据可视化的基本图形元素 Marks and Channels 一张数据可视化图（特指将数据用图的形式展示出来）中的元素，基本可以分成下面提到的两大类。即使是较为复杂的图，也能拆分成诸多基本元素的组合。\n其中第一类称为 Mark（标记），是一张图中的基本图形元素。 Mark根据其维度可以细分为三种：\n第二类元素是 Channel（通道），指用于控制 Mark 如何呈现在图中的变量。 通道可以分为以下几种：\n位置 颜色 形状 斜率 大小（长度、面积、体积） 这样讲非常抽象，来几个具体的例子：\na 图，使用线段作为 Mark（柱状图就是些粗了点的线段），Channel 是长度，所以当我们在看柱状图时，比较的实际是不同线段（柱子）的长度 b 图，用点作为 Mark，Channel 是点在图上的位置，每个点都有其坐标 (x,y) c 图，在 b 图的基础上，增加了一个颜色 Channel，用这个通道将点分成了红蓝两组 d 图，在 c 图的基础上，又增加了面积作为 Channel 控制点的大小，额外编码了一个变量 以此可见，无论复杂还是简单的图，都是通过 Marks 与 Channels 的适当组合得到的。\nChannel Rankings 在画图的时候，一次必然不会用到全部的上述元素。由于各种 Channel 传递信息的效果并不一致，要想让你的图更为直观，需要选择恰当的元素表现方式。\n下图展示了不同类型的数据，用不同 Channel 进行表达时，其效果的优劣，越靠上的 Channel 越便于读者理解。\n有顺序的数据（比如一组有大有小的测量值）应当以左边这组形式呈现，类别数据（比如野生型和突变体这两组材料）应当以右边的形式呈现。\n对于两类数据，效果最好的都是空间位置。我们来看一组例子，体会一下不同数值编码方式传递信息的效率差异。\n浏览下面的每一张图，快速判断图中的数据能分为几组。\n第一的图，用位置+颜色编码，很容易将点进行分组。 第二张图，用大小+颜色编码，稍微混乱了一些，但还算可以分辨。 第三张图，该分成三组还是四组？这张图采用宽度+高度编码，还算可以分辨，但由于我们通常感知面积快于形状，所以矮宽/高瘦的椭圆形可能在直觉上会被归为一组，于是图中四组容易被认作大中小的三组。 第四张图，只用颜色进行编码，非常混乱，实际也是四组。 不同数据类型与其适合的展示方式 One quantitative value 首先是一维数据，只有一组连续值，我们希望展示这组数据的分布情况。如果只用平均值、标准差来描述，可能会损失很多信息，便可以考虑用直方图或密度图来展示。\n直方图（Histogram） 直方图（Histogram）是展示 连续数据分布情况 最常用的工具，它划分好一组区间，将落到每个区间中值的个数进行统计并绘图，使用线条的长度来编码数据。由于直方图需要对连续型数据做离散分组，因此它有一个明显的缺点，就是它的形状依赖于分组的端点，例如若有好几个相同的数值正好处在分组端点上，那么我们只要稍微向左或向右移动一下分组端点，这些数据点就会被划分入不同的区间，导致矩形条的高度变化。\nMark: line Channel: length 密度图（Density plot） 密度图利用核密度估计，对原始数据估计其密度函数，相比直方图对数据的描述更加准确。然而其边界处可能由于边界效应与实际情况不符。\nMark: line Channel: position Two quantitative values 当面对二维连续值的情况，比一维稍微复杂一点，可以用散点图展示它们之间的关系。\n散点图（Scatter plot） 散点图展示 两个变量之间的关系 ，这种关系可能是线性或非线性的。图中每一个点的横纵坐标都分别对应两个变量各自的观测值，因此散点所反映出来的趋势也就是两个变量之间的关系。\nMark: point Channel: position One key, one value 假如一张表是这样的：\n能够定位到某个表格位置的变量称作 Key，这通常是我们统计对象的某个属性，比如某个材料的名称； 表格中某个格中具体的值被称为 Value 柱状图（Bar chart） 柱状图可能是我们最熟悉的图形之一，目前是各种统计图形中应用最广泛的，但柱状图使用统计后的数据（平均值、标准差）进行作图，所能展示的统计量比较贫乏：只能以矩形条的长度展示原始数值，对数据的分布几乎没有任何展示。\n比如在下图中，因为展示的是每个动物的平均质量，如果不加误差线，我们既不能看出它的变异程度，也看不到这些数据的分布。\nMark: lines Channel: position, length 箱线图（Box plot） 统计（平均值、标准差）后画出的柱状图损失了太多信息，相比之下，直接用原始数据画出的箱线图呈现了 更详细的数据分布情况 ，并允许数据中包含异常值。\nMark: line, point Channel: position, length 小提琴图（Violin plot） 小提琴图是密度曲线图的变体，有时也与箱线图一同呈现，能够更清晰地展示数据的分布情况。由于其外形与小提琴的形状相似（尤其展示双峰数据时），所以称为小提琴图。通常要较多的数据量，才能呈现出比较好看的小提琴图。\nMark: line, point Channel: position, length One ordered key, one value 当我们的数据，其中的 Key 有内在顺序时，其呈现方式又可以有所不同。\n折线图（Line chart） 比方说展示一组随时间（比如年份）变化的数据，一般会用折线图的形式，更容易体现出数据的变化趋势。\nMark: line, point Channel: position 各种常见的基本图片类型就讲到这，我在每张图处都表明了作图利用到的 Mark 与 Channel。比较后就会发现，各种图确实都可以抽象为作图元素的适当组合。\n常见问题 以下介绍一些常见的问题与争议，同时包含一些注意事项。篇幅有限，没法将各种问题逐一分析，如果感兴趣也可以与我深入进行交流。\n选择柱状图还是折线图 这个问题一般取决于数据的类型，尤其是其中 Key 的类型。\n如果是类别数据，用柱状图 如果是有序数据，用折线图 需注意，类别数据不应使用折线图来展示，而有序数据也能用柱状图表示。\n下面两张图展示了性别与身高的关系，在这里 Key 为性别，属于类别数据，因此柱状图可以，但是折线图不合适。因为折线图天生带有一种展示趋势的倾向，会错误地传递出一种「从 Female 到 Male 身高存在上升趋势」，但一般来说性别不会逐渐变化，通常也不会出现身高随着性别变化而改变的情况。\n再看下面的图，年龄与身高的关系。柱状图展示了不同年龄段的身高差别，折线图展示出从十岁到十二岁儿童身高有上升的趋势，这就非常合理了。\n原点是否从0开始 一个作图过程中需要注意的问题：原点是否从0开始？在不同图中这个问题存在一些争议，但是 在柱状图中，原点一定要从0开始。 我们有时也会见到，为了刻意传递出某种结论而在柱状图中不从零开始展示数据的情况。\n回想一下前面提到柱状图的时候，我们提到柱状图利用长度来编码数值。正因如此，长度需要与数值以合适的比例关系进行对应，100 是 50 的两倍，因此在线性坐标轴上，对应 100 的柱子长度就该是 50 的两倍长。\n而折线图利用位置来编码数值，所以在一些情况下，为了展示出更清晰的局部变化，可以不从0开始。\n雷达图与饼图 雷达图实际上是极坐标系中的折线图，以到中心的距离编码数值，然而其可读性非常差，绝大多数情况下避免使用。\n纵坐标对应的数值不易阅读 折线的趋势变化不明显 折线图不应用来表示没有顺序的分组数据 除非周期性数据，否则一组数据结尾和开始处的连接没有实际含义 饼图用角度编码数值，给人的感知是角度/面积，可读性也不好。因为人眼对角度或面积辨识能力不强，尤其是相似的角度非常多的时候。\n回看一下最开始放的排序图，角度与面积都排在了最后，因此请谨慎使用饼图。如果用，对数据进行排序后再画饼图，可以稍稍让读图变得轻松一点。\n一些奇怪的图 我翻了一些CNS文章，除了热图和树状/网状图，基本都是上面提到的图片类型。其中有些变体形式的图也非常不错，比如下面这张直接展示出原始值及其平均值，又省空间又直观。\n或是下面这种（我画了个示意图），相比于柱状图省去了柱子的部分，同样呈现出平均值和误差线，又比柱状图省下不少空间（柱状图的柱子宽度几乎毫无意义）。\n再举个例子，说说如何用图片元素的基本知识，帮助我们读一张图，尤其是如今日益花哨的各种组学图。下面是张呈现出转录组数据的火山图（Volcano plot），一眼看上去还挺炫，让我将其中的各种元素拆分一下：\n横坐标与纵坐标都是取 log 后的连续型数值，坐标轴不包括离散（分组）数据，因此这是将（x,y）映射到位置的散点图，每个点代表一个基因 再看横纵坐标表示的含意，横坐标是 R-NR 数据的比值，因此越靠右表明比值越大，越靠左则比值越小 图中的两条曲线划定了一定范围，因此作为比较数据的阈值 数据点还映射到了不同的颜色，灰色是没有达到阈值的数据，黑色点达到阈值，其中又有些选出的基因，被标注以不同颜色，应该是依照某个其他因素进行了分组 那么，再接下去看看上下文有没有提到这些颜色代表了什么分组，就清楚它是要讲什么了。\n好了，这篇文章就写到这，我们下次再见。\n参考资料与延伸阅读 Data Visualization - A practical introduction Visualization Analysis \u0026 Design ",
  "wordCount" : "221",
  "inLanguage": "zh",
  "datePublished": "2023-07-19T00:00:00Z",
  "dateModified": "2023-07-19T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Yorkson"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://yorks0n.github.io/posts/basic_elements_data_vis/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Yorksite",
    "logo": {
      "@type": "ImageObject",
      "url": "https://yorks0n.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://yorks0n.github.io/" accesskey="h" title="Yorksite (Alt + H)">Yorksite</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://yorks0n.github.io/archives/" title="📋 Archive">
                    <span>📋 Archive</span>
                </a>
            </li>
            <li>
                <a href="https://yorks0n.github.io/tags/" title="🏷 Tags">
                    <span>🏷 Tags</span>
                </a>
            </li>
            <li>
                <a href="https://yorks0n.github.io/search/" title="🔍 Search (Alt &#43; /)" accesskey=/>
                    <span>🔍 Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">
<div class="grid-layout">
<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://yorks0n.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://yorks0n.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      数据可视化——基本图形元素及其应用
    </h1>
    <div class="post-meta"><span title='2023-07-19 00:00:00 +0000 UTC'>七月 19, 2023</span>&nbsp;·&nbsp;Yorkson

</div>
  </header> 
  <div class="post-content"><h2 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h2>
<p>本文旨在介绍可视化作图过程中使用的基本元素，简单分析不同数据类型适合使用何种图形进行展示。通过了解这些基本元素，我们可以实现以下两个目的：</p>
<ul>
<li>更好地解读图片传递的信息</li>
<li>判断图表质量的好坏</li>
</ul>
<p>在理解了基本元素的基础上，我们能够更好地设计图表，从而更高效直观地向读者传递我们的结论。</p>
<h2 id="用于数据可视化的基本图形元素">用于数据可视化的基本图形元素<a hidden class="anchor" aria-hidden="true" href="#用于数据可视化的基本图形元素">#</a></h2>
<h3 id="marks-and-channels">Marks and Channels<a hidden class="anchor" aria-hidden="true" href="#marks-and-channels">#</a></h3>
<p>一张数据可视化图（特指将数据用图的形式展示出来）中的元素，基本可以分成下面提到的两大类。即使是较为复杂的图，也能拆分成诸多基本元素的组合。</p>
<p>其中第一类称为 <strong>Mark（标记），是一张图中的基本图形元素。</strong> Mark根据其维度可以细分为三种：</p>
<p><img loading="lazy" src="images/vis_elements.png" alt="Untitled"  />
</p>
<p>第二类元素是 <strong>Channel（通道），指用于控制 Mark 如何呈现在图中的变量。</strong> 通道可以分为以下几种：</p>
<ul>
<li>位置</li>
<li>颜色</li>
<li>形状</li>
<li>斜率</li>
<li>大小（长度、面积、体积）</li>
</ul>
<p><img loading="lazy" src="images/vis_elements1.png" alt="Untitled"  />
</p>
<p>这样讲非常抽象，来几个具体的例子：</p>
<ul>
<li>a 图，使用线段作为 Mark（柱状图就是些粗了点的线段），Channel 是长度，所以当我们在看柱状图时，比较的实际是不同线段（柱子）的长度</li>
<li>b 图，用点作为 Mark，Channel 是点在图上的位置，每个点都有其坐标 (x,y)</li>
<li>c 图，在 b 图的基础上，增加了一个颜色 Channel，用这个通道将点分成了红蓝两组</li>
<li>d 图，在 c 图的基础上，又增加了面积作为 Channel 控制点的大小，额外编码了一个变量</li>
</ul>
<p><img loading="lazy" src="images/vis_elements2.png" alt="Untitled"  />
</p>
<p><strong>以此可见，无论复杂还是简单的图，都是通过 Marks 与 Channels 的适当组合得到的。</strong></p>
<h3 id="channel-rankings">Channel Rankings<a hidden class="anchor" aria-hidden="true" href="#channel-rankings">#</a></h3>
<p>在画图的时候，一次必然不会用到全部的上述元素。由于各种 Channel 传递信息的效果并不一致，要想让你的图更为直观，需要选择恰当的元素表现方式。</p>
<p>下图展示了不同类型的数据，用不同 Channel 进行表达时，其效果的优劣，越靠上的 Channel 越便于读者理解。</p>
<p>有顺序的数据（比如一组有大有小的测量值）应当以左边这组形式呈现，类别数据（比如野生型和突变体这两组材料）应当以右边的形式呈现。</p>
<p><img loading="lazy" src="images/vis_elements3.png" alt="Untitled"  />
</p>
<p>对于两类数据，效果最好的都是空间位置。我们来看一组例子，体会一下不同数值编码方式传递信息的效率差异。</p>
<p>浏览下面的每一张图，快速判断图中的数据能分为几组。</p>
<p><img loading="lazy" src="images/vis_elements4.png" alt="Untitled"  />
</p>
<ul>
<li>第一的图，用位置+颜色编码，很容易将点进行分组。</li>
<li>第二张图，用大小+颜色编码，稍微混乱了一些，但还算可以分辨。</li>
<li>第三张图，该分成三组还是四组？这张图采用宽度+高度编码，还算可以分辨，但由于我们通常感知面积快于形状，所以矮宽/高瘦的椭圆形可能在直觉上会被归为一组，于是图中四组容易被认作大中小的三组。</li>
<li>第四张图，只用颜色进行编码，非常混乱，实际也是四组。</li>
</ul>
<h2 id="不同数据类型与其适合的展示方式">不同数据类型与其适合的展示方式<a hidden class="anchor" aria-hidden="true" href="#不同数据类型与其适合的展示方式">#</a></h2>
<h3 id="one-quantitative-value">One quantitative value<a hidden class="anchor" aria-hidden="true" href="#one-quantitative-value">#</a></h3>
<p>首先是一维数据，只有一组连续值，我们希望展示这组数据的分布情况。如果只用平均值、标准差来描述，可能会损失很多信息，便可以考虑用直方图或密度图来展示。</p>
<p><img loading="lazy" src="images/vis_elements5.png" alt="Untitled"  />
</p>
<h4 id="直方图histogram">直方图（Histogram）<a hidden class="anchor" aria-hidden="true" href="#直方图histogram">#</a></h4>
<p>直方图（Histogram）是展示 <strong>连续数据分布情况</strong> 最常用的工具，它划分好一组区间，将落到每个区间中值的个数进行统计并绘图，使用线条的长度来编码数据。由于直方图需要对连续型数据做离散分组，因此它有一个明显的缺点，就是它的形状依赖于分组的端点，例如若有好几个相同的数值正好处在分组端点上，那么我们只要稍微向左或向右移动一下分组端点，这些数据点就会被划分入不同的区间，导致矩形条的高度变化。</p>
<ul>
<li>Mark: line</li>
<li>Channel: length</li>
</ul>
<p><img loading="lazy" src="images/vis_elements6.png" alt="Untitled"  />
</p>
<h4 id="密度图density-plot">密度图（Density plot）<a hidden class="anchor" aria-hidden="true" href="#密度图density-plot">#</a></h4>
<p>密度图利用核密度估计，对原始数据估计其密度函数，相比直方图对数据的描述更加准确。然而其边界处可能由于边界效应与实际情况不符。</p>
<ul>
<li>Mark: line</li>
<li>Channel: position</li>
</ul>
<p><img loading="lazy" src="images/vis_elements7.png" alt="Untitled"  />
</p>
<h3 id="two-quantitative-values">Two quantitative values<a hidden class="anchor" aria-hidden="true" href="#two-quantitative-values">#</a></h3>
<p>当面对二维连续值的情况，比一维稍微复杂一点，可以用散点图展示它们之间的关系。</p>
<p><img loading="lazy" src="images/vis_elements8.png" alt="Untitled"  />
</p>
<h4 id="散点图scatter-plot">散点图（Scatter plot）<a hidden class="anchor" aria-hidden="true" href="#散点图scatter-plot">#</a></h4>
<p>散点图展示 <strong>两个变量之间的关系</strong> ，这种关系可能是线性或非线性的。图中每一个点的横纵坐标都分别对应两个变量各自的观测值，因此散点所反映出来的趋势也就是两个变量之间的关系。</p>
<ul>
<li>Mark: point</li>
<li>Channel: position</li>
</ul>
<p><img loading="lazy" src="images/vis_elements9.png" alt="Untitled"  />
</p>
<h3 id="one-key-one-value">One key, one value<a hidden class="anchor" aria-hidden="true" href="#one-key-one-value">#</a></h3>
<p>假如一张表是这样的：</p>
<ul>
<li><strong>能够定位到某个表格位置的变量称作 Key</strong>，这通常是我们统计对象的某个属性，比如某个材料的名称；</li>
<li><strong>表格中某个格中具体的值被称为 Value</strong></li>
</ul>
<p><img loading="lazy" src="images/vis_elements10.png" alt="Untitled"  />
</p>
<h4 id="柱状图bar-chart">柱状图（Bar chart）<a hidden class="anchor" aria-hidden="true" href="#柱状图bar-chart">#</a></h4>
<p>柱状图可能是我们最熟悉的图形之一，目前是各种统计图形中应用最广泛的，但柱状图使用统计后的数据（平均值、标准差）进行作图，所能展示的统计量比较贫乏：只能以矩形条的长度展示原始数值，对数据的分布几乎没有任何展示。</p>
<p>比如在下图中，因为展示的是每个动物的平均质量，如果不加误差线，我们既不能看出它的变异程度，也看不到这些数据的分布。</p>
<ul>
<li>Mark: lines</li>
<li>Channel: position, length</li>
</ul>
<p><img loading="lazy" src="images/vis_elements11.png" alt="Untitled"  />
</p>
<h4 id="箱线图box-plot">箱线图（Box plot）<a hidden class="anchor" aria-hidden="true" href="#箱线图box-plot">#</a></h4>
<p>统计（平均值、标准差）后画出的柱状图损失了太多信息，相比之下，直接用原始数据画出的箱线图呈现了 <strong>更详细的数据分布情况</strong> ，并允许数据中包含异常值。</p>
<ul>
<li>Mark: line, point</li>
<li>Channel: position, length</li>
</ul>
<p><img loading="lazy" src="images/vis_elements12.png" alt="Untitled"  />
</p>
<h4 id="小提琴图violin-plot">小提琴图（Violin plot）<a hidden class="anchor" aria-hidden="true" href="#小提琴图violin-plot">#</a></h4>
<p>小提琴图是密度曲线图的变体，有时也与箱线图一同呈现，能够更清晰地展示数据的分布情况。由于其外形与小提琴的形状相似（尤其展示双峰数据时），所以称为小提琴图。通常要较多的数据量，才能呈现出比较好看的小提琴图。</p>
<ul>
<li>Mark: line, point</li>
<li>Channel: position, length</li>
</ul>
<p><img loading="lazy" src="images/vis_elements13.png" alt="Untitled"  />
</p>
<h3 id="one-ordered-key-one-value">One ordered key, one value<a hidden class="anchor" aria-hidden="true" href="#one-ordered-key-one-value">#</a></h3>
<p>当我们的数据，其中的 Key 有内在顺序时，其呈现方式又可以有所不同。</p>
<p><img loading="lazy" src="images/vis_elements14.png" alt="Untitled"  />
</p>
<h4 id="折线图line-chart">折线图（Line chart）<a hidden class="anchor" aria-hidden="true" href="#折线图line-chart">#</a></h4>
<p>比方说展示一组随时间（比如年份）变化的数据，一般会用折线图的形式，更容易体现出数据的变化趋势。</p>
<ul>
<li>Mark: line, point</li>
<li>Channel: position</li>
</ul>
<p><img loading="lazy" src="images/vis_elements15.png" alt="Untitled"  />
</p>
<p>各种常见的基本图片类型就讲到这，我在每张图处都表明了作图利用到的 Mark 与 Channel。比较后就会发现，各种图确实都可以抽象为作图元素的适当组合。</p>
<h2 id="常见问题">常见问题<a hidden class="anchor" aria-hidden="true" href="#常见问题">#</a></h2>
<p>以下介绍一些常见的问题与争议，同时包含一些注意事项。篇幅有限，没法将各种问题逐一分析，如果感兴趣也可以与我深入进行交流。</p>
<h3 id="选择柱状图还是折线图">选择柱状图还是折线图<a hidden class="anchor" aria-hidden="true" href="#选择柱状图还是折线图">#</a></h3>
<p>这个问题一般取决于数据的类型，尤其是其中 Key 的类型。</p>
<ul>
<li>如果是<strong>类别数据</strong>，用柱状图</li>
<li>如果是<strong>有序数据</strong>，用折线图</li>
</ul>
<p>需注意，类别数据不应使用折线图来展示，而有序数据也能用柱状图表示。</p>
<p>下面两张图展示了性别与身高的关系，在这里 Key 为性别，属于类别数据，因此柱状图可以，但是折线图不合适。因为折线图天生带有一种展示趋势的倾向，会错误地传递出一种「从 Female 到 Male 身高存在上升趋势」，但一般来说性别不会逐渐变化，通常也不会出现身高随着性别变化而改变的情况。</p>
<p><img loading="lazy" src="images/vis_elements16.png" alt="Untitled"  />
</p>
<p>再看下面的图，年龄与身高的关系。柱状图展示了不同年龄段的身高差别，折线图展示出从十岁到十二岁儿童身高有上升的趋势，这就非常合理了。</p>
<p><img loading="lazy" src="images/vis_elements17.png" alt="Untitled"  />
</p>
<h3 id="原点是否从0开始">原点是否从0开始<a hidden class="anchor" aria-hidden="true" href="#原点是否从0开始">#</a></h3>
<p>一个作图过程中需要注意的问题：原点是否从0开始？在不同图中这个问题存在一些争议，但是 <strong>在柱状图中，原点一定要从0开始。</strong> 我们有时也会见到，为了刻意传递出某种结论而在柱状图中不从零开始展示数据的情况。</p>
<p>回想一下前面提到柱状图的时候，我们提到<strong>柱状图利用长度来编码数值</strong>。正因如此，长度需要与数值以合适的比例关系进行对应，100 是 50 的两倍，因此在线性坐标轴上，对应 100 的柱子长度就该是 50 的两倍长。</p>
<p>而<strong>折线图利用位置来编码数值</strong>，所以在一些情况下，为了展示出更清晰的局部变化，可以不从0开始。</p>
<p><img loading="lazy" src="images/vis_elements18.png" alt="Untitled"  />
</p>
<h3 id="雷达图与饼图">雷达图与饼图<a hidden class="anchor" aria-hidden="true" href="#雷达图与饼图">#</a></h3>
<p>雷达图实际上是极坐标系中的折线图，<strong>以到中心的距离编码数值</strong>，然而其<strong>可读性非常差</strong>，绝大多数情况下避免使用。</p>
<ul>
<li>纵坐标对应的数值不易阅读</li>
<li>折线的趋势变化不明显</li>
<li>折线图不应用来表示没有顺序的分组数据</li>
<li>除非周期性数据，否则一组数据结尾和开始处的连接没有实际含义</li>
</ul>
<p><img loading="lazy" src="images/vis_elements19.png" alt="Untitled"  />
</p>
<p>饼图<strong>用角度编码数值</strong>，给人的感知是角度/面积，<strong>可读性也不好</strong>。因为人眼对角度或面积辨识能力不强，尤其是相似的角度非常多的时候。</p>
<p><img loading="lazy" src="images/vis_elements20.png" alt="Untitled"  />
</p>
<p>回看一下最开始放的排序图，角度与面积都排在了最后，因此请谨慎使用饼图。如果用，对数据进行排序后再画饼图，可以稍稍让读图变得轻松一点。</p>
<p><img loading="lazy" src="images/vis_elements21.png" alt="Untitled"  />
</p>
<h3 id="一些奇怪的图">一些奇怪的图<a hidden class="anchor" aria-hidden="true" href="#一些奇怪的图">#</a></h3>
<p>我翻了一些CNS文章，除了热图和树状/网状图，基本都是上面提到的图片类型。其中有些变体形式的图也非常不错，比如下面这张直接展示出原始值及其平均值，又省空间又直观。</p>
<p><img loading="lazy" src="images/vis_elements22.png" alt="Untitled"  />
</p>
<p>或是下面这种（我画了个示意图），相比于柱状图省去了柱子的部分，同样呈现出平均值和误差线，又比柱状图省下不少空间（柱状图的柱子宽度几乎毫无意义）。</p>
<p><img loading="lazy" src="images/vis_elements23.png" alt="Untitled"  />
</p>
<p>再举个例子，说说如何用图片元素的基本知识，帮助我们读一张图，尤其是如今日益花哨的各种组学图。下面是张呈现出转录组数据的火山图（Volcano plot），一眼看上去还挺炫，让我将其中的各种元素拆分一下：</p>
<ul>
<li>横坐标与纵坐标都是取 log 后的连续型数值，坐标轴不包括离散（分组）数据，因此这是将（x,y）映射到位置的散点图，每个点代表一个基因</li>
<li>再看横纵坐标表示的含意，横坐标是 R-NR 数据的比值，因此越靠右表明比值越大，越靠左则比值越小</li>
<li>图中的两条曲线划定了一定范围，因此作为比较数据的阈值</li>
<li>数据点还映射到了不同的颜色，灰色是没有达到阈值的数据，黑色点达到阈值，其中又有些选出的基因，被标注以不同颜色，应该是依照某个其他因素进行了分组</li>
</ul>
<p>那么，再接下去看看上下文有没有提到这些颜色代表了什么分组，就清楚它是要讲什么了。</p>
<p><img loading="lazy" src="images/vis_elements24.png" alt="Untitled"  />
</p>
<p>好了，这篇文章就写到这，我们下次再见。</p>
<h2 id="参考资料与延伸阅读">参考资料与延伸阅读<a hidden class="anchor" aria-hidden="true" href="#参考资料与延伸阅读">#</a></h2>
<ul>
<li><a href="https://socviz.co/index.html#preface">Data Visualization - A practical introduction</a></li>
<li><a href="https://www.cs.ubc.ca/~tmm/talks.html#vad15sydney">Visualization Analysis &amp; Design</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://yorks0n.github.io/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/">可视化</a></li>
    </ul>
  </footer>
</article>


<aside class="tableOfContentContainer">
  
  <h3>目录</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#前言">前言</a></li>
    <li><a href="#用于数据可视化的基本图形元素">用于数据可视化的基本图形元素</a>
      <ul>
        <li><a href="#marks-and-channels">Marks and Channels</a></li>
        <li><a href="#channel-rankings">Channel Rankings</a></li>
      </ul>
    </li>
    <li><a href="#不同数据类型与其适合的展示方式">不同数据类型与其适合的展示方式</a>
      <ul>
        <li><a href="#one-quantitative-value">One quantitative value</a></li>
        <li><a href="#two-quantitative-values">Two quantitative values</a></li>
        <li><a href="#one-key-one-value">One key, one value</a></li>
        <li><a href="#one-ordered-key-one-value">One ordered key, one value</a></li>
      </ul>
    </li>
    <li><a href="#常见问题">常见问题</a>
      <ul>
        <li><a href="#选择柱状图还是折线图">选择柱状图还是折线图</a></li>
        <li><a href="#原点是否从0开始">原点是否从0开始</a></li>
        <li><a href="#雷达图与饼图">雷达图与饼图</a></li>
        <li><a href="#一些奇怪的图">一些奇怪的图</a></li>
      </ul>
    </li>
    <li><a href="#参考资料与延伸阅读">参考资料与延伸阅读</a></li>
  </ul>
</nav>
</aside>

</div>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    const observerForTableOfContentActiveState = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        const id = entry.target.getAttribute('id');

        if (entry.intersectionRatio > 0) {
          clearActiveStatesInTableOfContents();
          document.querySelector(`nav li a[href="#${id}"]`).parentElement.classList.add('active');
        }
      });
    });
    document.querySelectorAll('h1[id],h2[id],h3[id],h4[id]').forEach((section) => {
      observerForTableOfContentActiveState.observe(section);
    });

  });

  function clearActiveStatesInTableOfContents() {
    document.querySelectorAll('nav li').forEach((section) => {
      section.classList.remove('active');
    });
  }
</script>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://yorks0n.github.io/">Yorksite</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>

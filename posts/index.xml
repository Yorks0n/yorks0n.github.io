<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on Yorksite</title>
    <link>https://yorks0n.github.io/posts/</link>
    <description>Recent content in Posts on Yorksite</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 07 Apr 2023 13:39:20 +0000</lastBuildDate><atom:link href="https://yorks0n.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>【读文献】单细胞分析最佳实践</title>
      <link>https://yorks0n.github.io/posts/read-single-cell-best-practice/</link>
      <pubDate>Fri, 07 Apr 2023 13:39:20 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/read-single-cell-best-practice/</guid>
      <description>Best practices for single-cell analysis across modalities 跨模式单细胞分析的最佳实践，于 2023 年 3 月 31 日发表于 nature reviews genetics。最近在研究单细胞分析相关的资料，因此记下这篇笔记。文章中包含了 Transcriptome、Chromatin accessibility、Surface protein expression、空间转录组等多个方面，但就近期关注点而言，只精简记录单细胞转录组部分的笔记。如果有需要，可以阅读原文。
从原始计数矩阵到高质量单细胞数据 原始计数矩阵是直接从测序数据定量得来的矩阵，一般根据每个细胞 barcode 与 UMI 确定细胞中各种 mRNA 的数量，然而原始数据中包含着各种系统噪声和误差（比如来自建库操作、样本质量、测序批次等），因此在这一预处理过程中试图去除误差。这一过程涉及到质量控制、归一化、数据矫正和特征选择等过程，还可能会涉及到消除批次效应以整合多批次数据的过程。
滤低质量细胞和噪声校正 Filtering low-quality cells and noise correction 大多数分析过程假定每个单细胞液滴中都包含来自单个完整细胞的 RNA。细胞质量差（比如死细胞）、溶液中破裂细胞产生的 RNA 污染、同时捕获多个细胞的情况违反这一假设，因此需要在进一步分析之前去除这部分数据。
低质量细胞：检测基因数量过少、深度过低或是线粒体计数（植物还有叶绿体）过多的细胞都被认为是低质量细胞。一般通过手动设置的阈值来进行识别和过滤，可以参照先前文章或是基于中值绝对偏差数对样本进行过滤。需要综合考虑过滤的指标，同时注意质量控制是在样本水平上进行的，因为样本之间的阈值可能会有很大差异。
中值绝对偏差数（Median Absolute Deviation, MAD）
基于中值绝对偏差数（Median Absolute Deviation, MAD）的样本自动过滤是一种统计方法，用于识别和剔除数据集中的离群值。这种方法主要有以下几个步骤：
计算数据集的中位数（median）。 对每个数据点，计算其与中位数的偏差绝对值。 计算这些绝对偏差的中位数，得到MAD值。 选择一个阈值，通常是MAD的某个倍数（例如3倍MAD），用于判断数据点是否为离群值。 剔除大于阈值的数据点，即被认为是离群值的数据点。 这种基于MAD的方法对于处理非正态分布的数据集具有较好的鲁棒性，而且相对标准差受异常值影响更小，因此可以有效地识别和过滤异常值。
无细胞游离 RNA：通常存在于溶液中，并在建库过程中分配给每个细胞，产生一种类似背景值的效果。如果是细胞类群特异性标志物的 RNA 污染了其他细胞，后续分析中可能将不同的细胞群混合在一起。流行的 SoupX 等方法根据样本中「空液滴」的表达情况去除污染；CellBender 将环境 RNA 的去除制定为无监督贝叶斯模型，该模型不需要细胞类型特异性基因表达谱的先验知识。应当尽量不忽略去除环境 RNA 这一步，以提升下游分析的质量。
空液滴和双联体液滴（包含两个细胞的液滴）：由不同细胞类型形成的双联体很难注释，并可能导致细胞类型标注错误。常见的双峰检测方法随机抽取两个细胞组合成模拟双联体，并将其与其他细胞测量结果进行比较。scDblFinder 采用此方法， 并在多项测试中准确性和计算效率优于其他方法。还可以应用多种不同检测方法并比较结果以提高准确性。
归一化和方差稳定化 Normalization and variance stabilization 不同细胞的 mRNA 含量不同，加上测序过程随机误差，将导致细胞有不同的初始计数。归一化可以矫正测序深度的差异，使不同细胞具有可比性。随后稳定方差以确保少数离群值对整体数据影响不会太大。</description>
    </item>
    
    <item>
      <title>Docker 打包 Shiny App</title>
      <link>https://yorks0n.github.io/posts/docker-pack-shiny-app/</link>
      <pubDate>Tue, 28 Mar 2023 09:30:49 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/docker-pack-shiny-app/</guid>
      <description>文件准备 将Shiny用到的server.R和ui.R一起放在app文件夹中
./app: server.R ui.R 写个Dockerfile，把用到的包都写在 install.r 后面
FROM rocker/r-base:latest LABEL maintainer=&amp;#34;email &amp;lt;example@mail.com&amp;gt;&amp;#34; RUN apt-get update &amp;amp;&amp;amp; apt-get install -y --no-install-recommends \ sudo \ libcurl4-gnutls-dev \ libcairo2-dev \ libxt-dev \ libssl-dev \ libssh2-1-dev \ &amp;amp;&amp;amp; rm -rf /var/lib/apt/lists/* RUN install.r shiny shinyBS dplyr stringr RUN echo &amp;#34;local(options(shiny.port = 3838, shiny.host = &amp;#39;0.0.0.0&amp;#39;))&amp;#34; &amp;gt; /usr/lib/R/etc/Rprofile.site RUN addgroup --system app \ &amp;amp;&amp;amp; adduser --system --ingroup app app WORKDIR /home/app COPY app . RUN chown app:app -R /home/app USER app EXPOSE 3838 CMD [&amp;#34;R&amp;#34;, &amp;#34;-e&amp;#34;, &amp;#34;shiny::runApp(&amp;#39;/home/app&amp;#39;)&amp;#34;] 按以下方式进行构建</description>
    </item>
    
    <item>
      <title>部署预印本追踪 TRxiv 到 Github Action</title>
      <link>https://yorks0n.github.io/posts/deploy-trxiv-github-action/</link>
      <pubDate>Fri, 24 Mar 2023 16:30:23 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/deploy-trxiv-github-action/</guid>
      <description>将JS写的抓取 Altmetric 热门预印本，与 bioRxiv API 结合后储存在 csv 文件中的过程，部署在 Github Action 中。官方文档写的顺序都有点混乱，网上找到的教程又经常都比较老了，因此自己记录一个。
新建Github仓库 新建一个public仓库，名叫TRxiv，并将远程仓库git clone到本地。
git clone git@github.com:Yorks0n/TRxiv.git cd TRxiv 创建一个动作元数据文件 要让仓库里能被以Action的形式直接调用，需要在根目录中创建一个action.yml配置文件，可以在这个文件中指定Action的输入和输出，调用的参数及运行环境
# action.yml name: &amp;#39;trxiv&amp;#39; description: &amp;#39;Tracking popular bioRxiv and medRxiv preprints&amp;#39; runs: using: &amp;#39;node16&amp;#39; main: &amp;#39;dist/index.js&amp;#39; 准备运行的代码 手动将写好的JS脚本拷贝进来，完整代码在此 Yorkson/TRxiv。
# 在这里初始化一下npm npm init -y 准备一个.gitignore文件，防止在推送的时候把不必要的文件放到储存库，可以用下面这个工具，或者自己写一下，比如这里就可能有node_modules
https://www.toptal.com/developers/gitignore
文件推送到远程仓库 然后push到远程仓库
git add . git commit -m &amp;#34;Initialize&amp;#34; git push 打包软件 因为前面把node_modules 从上传的文件列表中忽略了，但脚本index.js内有些依赖的包，所以最好把软件和依赖打包在一起，官方推荐用ncc
npm install @vercel/ncc 然后对index.js 进行打包
ncc build index.js -o dist 打包产物会存放于dist/index.</description>
    </item>
    
    <item>
      <title>Hello, again</title>
      <link>https://yorks0n.github.io/posts/hello-again/</link>
      <pubDate>Fri, 24 Mar 2023 15:29:49 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/hello-again/</guid>
      <description>兜兜转转又开始写 Blog 了，之前几次都没写过多少文章。实际花在折腾 Blog 的时间，远比真正写东西的时间更多。因为没啥值得看的内容，页面无法访问了也一直没有去解决。
但这次再开博客，倒不是有了汩汩冒出的表达欲，而是自一年前在少数派开始写点文章后，逐渐感受到了输出的重要。之前学习各种东西的过程中一直在输入，会记下不少笔记，但很少整理，几乎就堆在各种笔记软件中。时隔很久再去看，也还是最初的样子，往往看的时候已经不太记得当初某一步为什么要这样设置，或是做了哪些没有记录下来的操作。因此，准备把自己折腾过的东西整理成可以复现的形式，也是更好掌握和回顾知识的过程。
另一方面，在这几年的学习过程中，几乎都是通过搜索引擎与自学研究各种东西，看到高质量的内容中，除了诸多官方提供的教程，就是许多人在博客中记录的学习心得，受益良多。因此，假如能进行一定输出，说不定也能在未来的哪一天帮上其他人的忙。
最后，从去年年底开始，以 ChatGPT 为首的大语言模型，不由分说地闯进了人们的生活中。目前，我也几乎每天都会用到它，但几乎只局限在遇到不懂问题时候的 Q&amp;amp;A。但 LLM 的一大限制因素就在于优质内容的输入，在内容工厂的摧残下，中文互联网的内容良莠不齐。因此也希望我写的文章，能在将来的某一天，为模型输出更好的结果贡献一点微小的概率。
又及，还没有想好怎么对文章进行分类，索性先写起来。同时会把以前写过的东西也都整理到一起，因此日期早于这篇文章的内容，都应该是在其他地方已经发过的。整理搬运过程估计还会持续很久，但已经发现 Gridea 插入图片不太趁手了，估计迟早会再换种部署方式，也许是 Hugo 吧。</description>
    </item>
    
    <item>
      <title>1 dataset 100 visualizations 中有意思的可视化</title>
      <link>https://yorks0n.github.io/posts/interesting-1-dataset-100-visualizations/</link>
      <pubDate>Thu, 09 Mar 2023 20:40:01 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/interesting-1-dataset-100-visualizations/</guid>
      <description>分享最近看到的一组有意思的数据可视化。 由 ferdio 出品的，主题为「1 dataset 100 visualizations」。他们选用了一组非常简单的数据，用一百种不同的图进行可视化，借此「展示数据可视化的多样性和复杂性，以及如何使用有限的视觉元素来讲述不同的故事」。尽管使用了相同的原始数据，但每张图都有其独特的重点，传递出的信息也不尽相同。 我计划从中选几个有代表性的图，并尝试解读这种可视化突出了数据怎样的特点。 先从比较常见的开始，下面两张图都是将数值编码成了长度，算是最常见的柱状图了。依照组合顺序的不同，左图将相同年份的数据摆在一起，更能突出相同年度中，几个国家之间谁的数量更多；右边的图将同一国家两个年度的数据放在一起展示，更能体现出每个国家世界遗产数量都在上升这个趋势。 与此同时，假如使用堆积柱状图，则突出的是两个年度，这三个国家世界遗产总量的增长趋势。 另外，上面几张图中还有一个特点，它们都将各个部分的具体数值直接标注在了对应的区域。这种方式蛮好，可以减轻看图时「视线需要在坐标轴和数据间反复切换，估算数值」所产生的负担。在这样处理的图中，即使完全删去纵坐标轴也不影响数据解读。
下面这两张图则是让我比较眼前一亮的（尤其是下面第二张），仔细去看，它们虽然形状不太相似，但实际是几乎一样的两张图——用在一条直线上的位置标记多个数据点的数值。我觉得它们好在以下几个方面：
清晰明了，无论是比较同一年度各个国家的数值（点的位置），还是增长幅度（两点间的连线长度）都一目了然 节约空间，如果把第二张图放平，只占据柱状图单个柱子的空间，就足以展示六条柱子所传达的信息 可以体现出跨越性的增长与压倒性的优势：丹麦（橙色）的世界遗产数量从04年的不如挪威（深蓝色），到22年超越挪威，这种跨越性的增长趋势在这两张图中一目了然，反观上面的几个柱状图，都需要在柱子长度间反复多次比较数值，才能观察到这种变化；另一方面，瑞典（蓝色）无论哪个年度的数量都远超另外两个人国家，这个结论在前面的图中也能通过比较得出，但在这张图中尤其清晰。 究其原因，这两张图将本身分散的长度、位置信息合并在了同一条线上，使得相互间的比较更为容易。但它也有一些缺点： 假如是多个时间点，比如三个年度，在这张图中就容易造成混乱 这批数据的变化趋势一致，都是22年的数值高于04年，假如在不同国家间，有的数量增加，有的数量减少，可能就需要带箭头的线段才能表示年份间的变化趋势。 同样，假如不放在一条直线上，而是按位置分开的图也有，比如下面这张图。上面提到的一些优点，比如增长幅度的大小、丹麦超越性的增长、瑞典压倒性的数量也都可以看到，但少了在原位的国家名称与数量标注，感觉就没那么醒目了。但这张图也有它的优点：使用颜色来表示年份而不是国家，假如有国家的数量下降了，在这张图上就会很好地展现出来。 这次就先写这些，溜了溜了。 如果对更多可视化感兴趣，或是想找找新的画图思路，可以直接去原网站查看可视化结果。 参考资料 1 dataset. 100 visualizations.</description>
    </item>
    
    <item>
      <title>我的植物组学数据库合集 Ver.20220528</title>
      <link>https://yorks0n.github.io/posts/my-bioinfomatics-db-collection-ver20220528/</link>
      <pubDate>Sat, 28 May 2022 17:14:41 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/my-bioinfomatics-db-collection-ver20220528/</guid>
      <description>What 这是我日常会用到，所以整理出来的主要与植物学、基因组学有关的在线数据库集合。
链接在此：database
How-to 我利用了「#标签」的形式对链接进行分类，因此在检索的时候，可以直接点击下面的标签进行选择，也可以在搜索框中以「#标签名」的形式输入一个或多个标签进行筛选，多个标签之间使用空格隔开。
举个例子，假如想寻找和拟南芥蛋白有关的数据库，则可以在下面的标签中依次点击「#拟南芥」和「#蛋白」，也可以直接在搜索框中输入这两个标签。
补充说明：
如果这个数据库只包含一个物种的数据，我会给它打上「#物种名」的标签，但如果它同时带有多物种内容，比如 NCBI 或是 Ensembl plants，我就不会给它打物种名的标签。 有些数据库我也没有想好怎样用最简短的标签进行概括，所以标签描述不一定完备，也欢迎提修改意见。 Why and why 为什么要做这个 知识共享也好，流动着的知识才是好知识也好，可能就是我觉得有意思吧。
为什么不用文件夹 文件夹组成的是一种树状结构，然而每个数据库的属性并不是整齐的树状。比如一个数据库，即可以带有「拟南芥」的属性，表明它主要是一个拟南芥的数据库，同时它还可能带有一个「蛋白」的属性，表明其是蛋白质结构、或是蛋白修饰的数据库，因此这样的数据库并不能单一地根据物种或是数据类型进行分类。
为什么使用 Raindrop.io 我使用了书签管理服务 Raindrop，直接对其中一个文件夹进行共享，因为一方面发现它很方便，不论是检索还是发布；另一方面，我也想过用 Notion 或是飞书的在线文档形式，可能会更稳定一点，但是我懒，不想再一条条输一遍了，也许之后发布方式会改吧。
后续计划 如何更新 欢迎提意见和建议，包括如何改进标签，更准确地描述数据库；有哪些新的数据库值得加入进来，Et cetera。可以留言或直接与我联系。</description>
    </item>
    
    <item>
      <title>科研论文作图基本知识</title>
      <link>https://yorks0n.github.io/posts/basic-about-paper-figures/</link>
      <pubDate>Mon, 18 Apr 2022 17:28:27 +0000</pubDate>
      
      <guid>https://yorks0n.github.io/posts/basic-about-paper-figures/</guid>
      <description>本文参考了Nature、Science、Plant Cell等期刊的图片指南整理而成，旨在介绍一些作图前后会遇到的基本概念及要求。应注意的是，本文只能作为参考，具体的作图要求会依据期刊发生变化，应遵循期刊提供的投稿指南。
科研论文绘图的特点 相比于文字描述，论文中的图表通常是最快传递大量复杂信息的手段。
高质量的图片结果会传递出专业性，给读者良好的第一印象 许多人在阅读时也会从图片开始，因此应保证图片清晰准确地传递信息 图片也是吸引读者进一步阅读文章内容的基础，因此条件允许时适当兼顾艺术性 本文包含什么 本文包含许多在作图前后，尤其是完成单张结果图后，进行进一步图片组合时所需了解的基本概念与注意事项。
本文不包含什么 本文不是指导投稿某个期刊时的作图规范，一切具体标准与要求仍以各期刊自己的投稿指南为准。
创建画布 图片格式 图片格式可以分成位图与矢量图两种：
位图（Bitmap），又称栅格图（Raster graphics），指使用像素点组成的阵列来表示的图像，通过定义每个像素点的位置及其颜色来生成图片，比如JPG、TIFF等。 矢量图（Vector）是用点、直线或多边形等基于数学方程的几何元素表示的图像，如PDF、EPS等。
由于矢量图记录的是形状的计算方式，其经过放大也不会变得模糊，因此是作图时首选的图片格式。
期刊主要接受的位图格式为TIFF，接受PDF等矢量图；其中PDF中可以同时储存位图与矢量图，因而成为更加通用的格式；尽量避免使用PowerPoint储存图像。
画布尺寸 由于出版时版面宽度限制，期刊通常会对图片的尺寸有所要求，为了更好地排列每张Figure中的图片大小及位置，同时匹配字号和图片尺寸，最好在新建画布时就设定好尺寸。
每个期刊对于图片尺寸的要求各不相同，一般会区分单栏或双栏的布局方式。 部分期刊的图片尺寸要求如下：
期刊 单栏（cm） 双栏（cm） Nature 9 18 Plant Cell 8.25 16.5 Science 5.5 12 图片的高度一般没有明确要求，PC建议最大图片高度20 cm，Nature建议最大图片高度17 cm，以尽量保证图片和图例在同一页范围内。
颜色模式 颜色模式是数字图像中表示颜色的算法，期刊中常见要求有RGB模式与CMYK模式。 RGB模式：利用红（R）、绿（G）、蓝（B）三种颜色的加法混合，产生各种各样的颜色。 CMYK模式：将三原色叠加生成的四种颜色，即青色（C）、洋红色（M）、黄色（Y）与黑色（K），利用减法混合，形成CMYK颜色。 不同期刊对于投稿图片中的颜色模式的要求也各有不同，比如Science要求CMYK，Plant Cell则要求RGB。 不用担心，这两种颜色模式可以相互转换，但每次都会损失一点数据，所以最好先用RGB处理好图像，一旦有需要，再将其转换为CMYK模式。
字体 衬线，是指笔画末端的装饰线，是区分不同英文字体最显著的特征。有衬线的字体叫做衬线字体（Serif），而没有的则是非衬线（Sans-Serif）。（「Serif」意为「衬线」，「Sans」在法文中意为「没有」） 常见期刊一般要求使用非衬线字体，如Arial或Helvetica，且不同期刊对于图片中的字体大小也有要求：
期刊 最小字号（pt） 最大字号（pt） Nature 5 7 Science 5 7 Plant Cell 6 8 要注意的是组合多张图片时，通常图片会被缩放，这时实际显示出的字号会发生变化，应以最终缩放后的字号为准；多张图片的标注（即标注 A, B, C, D 时），应采用大写加粗，具体字号另各有要求。
颜色 图片中的颜色应当差异明显且视觉效果良好。期刊都会要求考虑到色觉障碍人士，因而要求避免使用诸如红色与绿色这样的颜色组合作为对比（改为使用洋红色与绿色），尤其是在荧光显微照片中。 分辨率 在涉及到位图的时候，就要考虑分辨率，通常以ppi作为单位（pixels per inch）。分辨率过低会导致图片在放大时边缘模糊。 在纯线条与文字组成的图片中（如化学式），分辨率尤其重要。一个好的方法是将图片放大至400%（至少200%），观察其边缘是否依然锐利清晰。 纯矢量图不需要考虑分辨率；如果导出位图则照片尽量达到300 ppi。</description>
    </item>
    
  </channel>
</rss>
